<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3 源码解析 一 | 吴小白 blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script>
    <script>
      var _hmt = _hmt || [];
      (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?248d9036a61108ac328748f98ff1dcb0";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
      </script>
    <script>
      (function() {
         if (location.href.indexOf('github.io') > -1 || location.href.indexOf('gitee.io') > -1) {
             location.href = 'https://wuxiaobai.cn'
         }
      })();
      </script><script type='application/ld+json'>
          {
            "@context": "https://schema.org",
            "@type": "Article",
            "headline": "vue3 源码解析 一",
            "url": "https://wuxiaobai.cn/vue3/vue3yuan-ma-jie-xi-yi.html",
            "image": [
              "https://p26-passport.byteacctimg.com/img/user-avatar/4df5fcbe927ed531544e53686055b6e0~300x300.image"
              ],
            "datePublished": "2022-02-11T11:07:38.000Z",
            "dateModified": "2022-05-09T09:53:58.000Z",
            "author": [{
                "@type": "Person",
                "name": "吴小白",
                "url": "https://github.com/AccompanyZiHao/study"
            }]
          }
      </script>
    <meta name="description" content="wu xiao bai&#39;s blog， 一个前端小白，记录日常遇到的问题以及解决方案，总结归纳成文档以方便后续的查找阅读，寻找一起发现未来的新大陆的你。">
    <meta property="article:published_time" content="2022-02-11T11:07:38.000Z">
    <meta property="article:modified_time" content="2022-05-09T09:53:58.000Z">
    <meta property="og:site_name" content="wuxiaobai`s blog">
    <meta property="og:title" content="vue3 源码解析 一">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://wuxiaobai.cn/vue3/vue3yuan-ma-jie-xi-yi.html">
    <meta property="og:image" content="https://p26-passport.byteacctimg.com/img/user-avatar/4df5fcbe927ed531544e53686055b6e0~300x300.image">
    <meta name="twitter:title" content="vue3 源码解析 一">
    <meta name="twitter:url" content="https://wuxiaobai.cn/vue3/vue3yuan-ma-jie-xi-yi.html">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://p26-passport.byteacctimg.com/img/user-avatar/4df5fcbe927ed531544e53686055b6e0~300x300.image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="源码, vue3">
    <meta property="article:tag" content="源码">
    <meta name="keywords" content="吴小白，wuxiaobai，javascript，ES6，js，博客，总结，前端，归纳。 ">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="baidu-site-verification" content="code-hp6IEwjoOt">
    <meta name="360-site-verification" content="19d8a61398aa8dafb3c57808fdec09fd">
    <meta name="msvalidate.01" content="BCD4672E3D575EA13E440C8FCAF8ACED">
    
    <link rel="preload" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/css/0.styles.74345fc0.css" as="style"><link rel="preload" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/app.8ede2734.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/3.c5a22957.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/1.56ff20d7.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/7.8bdbb744.js" as="script"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/10.3987f424.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/11.aa161f02.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/12.b6584af8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/13.71b76373.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/14.532fda4d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/15.518ca8a1.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/16.4fcba662.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/17.28254c01.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/18.75d2d208.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/19.096d6d5c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/20.66cd2947.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/21.502e0b5c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/22.0a854cb6.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/23.4184bba3.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/24.37e00188.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/25.36c98f66.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/26.58960838.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/27.3370b18f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/28.053d08a2.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/29.f203a354.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/30.c3d85871.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/31.a2f2beff.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/32.66fb39cb.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/33.2402aa97.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/34.f3dc1825.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/35.ff1064bc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/36.654ddf6d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/37.df6246f8.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/38.6f660a1b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/39.c3ed7841.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/4.56f9e857.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/40.73af705c.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/41.99032908.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/42.d88c7dbd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/43.063cc84e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/44.96aa239e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/45.fd9b5386.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/46.2e9d6477.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/47.8f6b455f.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/48.4f54af41.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/49.1b3bb15d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/5.90dccfd7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/50.9297ea0e.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/51.e5cbac48.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/52.18011620.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/53.fd297fa7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/54.8dc73c53.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/55.2235482b.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/56.b96338c5.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/57.1ef3ea7d.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/58.6df5e6dd.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/59.e5398e37.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/6.cb483b76.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/60.675bbbbc.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/61.5346b7df.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/62.52818ce7.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/63.d4bec642.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/64.3447aa02.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/65.c2c16639.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/8.fcdd3b2a.js"><link rel="prefetch" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/9.802eb800.js">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/css/0.styles.74345fc0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>吴小白 blog</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>wu xiao bai's blog， 一个前端小白，记录日常遇到的问题以及解决方案，总结归纳成文档以方便后续的查找阅读，寻找一起发现未来的新大陆的你。</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">吴小白 blog</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/leetcode/" class="nav-link"><i class="undefined"></i>
  leetcode
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      吴小白的博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AccompanyZiHao" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2559318799689463" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><img src="https://p26-passport.byteacctimg.com/img/user-avatar/4df5fcbe927ed531544e53686055b6e0~300x300.image" alt="author-avatar" class="personal-img" data-v-39576ba9> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>50</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>16</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/JavaScript/" class="nav-link"><i class="undefined"></i>
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/面试/" class="nav-link"><i class="undefined"></i>
  面试
</a></li><li class="dropdown-item"><!----> <a href="/categories/设计模式/" class="nav-link"><i class="undefined"></i>
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/categories/leetcode/" class="nav-link"><i class="undefined"></i>
  leetcode
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="undefined"></i>
  Linux
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="undefined"></i>
      吴小白的博客
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/AccompanyZiHao" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2559318799689463" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  About
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>vue3 源码解析 一</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">vue3 源码解析 一</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>白菜</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>2022/2/11</span></i> <!----> <i class="tags iconfont reco-tag" data-v-f875f3fc><span class="tag-item" data-v-f875f3fc>源码</span><span class="tag-item" data-v-f875f3fc>vue3</span></i></div></div> <div class="theme-reco-content content__default"><h1 id="探索-vue3-初始化过程"><a href="#探索-vue3-初始化过程" class="header-anchor">#</a> 探索 Vue3 初始化过程</h1> <h2 id="_1、准备工作"><a href="#_1、准备工作" class="header-anchor">#</a> 1、准备工作</h2> <p><code>vue</code> 源码地址 <a href="https://github.com/vuejs/core" target="_blank" rel="nofollow noopener noreferrer">https://github.com/vuejs/core<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>vue3</code> 使用 <code>pnpm</code> 进行安装依赖</p> <div class="language- extra-class"><pre class="language-text"><code>npm install -g pnpm

pnpm install

pnpm run dev
</code></pre></div><h2 id="_2、添加配置文件"><a href="#_2、添加配置文件" class="header-anchor">#</a> 2、添加配置文件</h2> <p>添加 <code>--sourcemap</code></p> <p><img src="data:image/jpeg;base64,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" alt="alt"></p> <h2 id="_3、新建测试文件"><a href="#_3、新建测试文件" class="header-anchor">#</a> 3、新建测试文件</h2> <p>packages/vue/examples/demo/create</p> <p><img src="data:image/jpeg;base64,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" alt="alt"></p> <div class="language- extra-class"><pre class="language-text"><code>  &lt;div id=&quot;App&quot;&gt;
    {{ foo }}
  &lt;/div&gt;
  &lt;script src=&quot;./../../dist/vue.global.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    const { createApp , ref} = Vue
    createApp({
      setup(props) {
        const foo = ref('this is foo')
        return {
          foo
        }
      }
    }).mount('#App')
  &lt;/script&gt;
</code></pre></div><h2 id="_4、切入口-createapp-分析"><a href="#_4、切入口-createapp-分析" class="header-anchor">#</a> 4、切入口 createApp 分析</h2> <p><img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_03.c9c1fa30.jpg" alt="alt"></p> <p>我们先从创建组件实例下手也就是 <code>createApp()</code>, 通过在 <code>createApp()</code> 处的断点切入进去，我们会看到创建组件实例的方法来自于 <code>ensureRenderer()</code>。</p> <p><img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_04.58a09f51.jpg" alt="alt"></p> <p>其次我们通过断点的方式找到这个函数来自于 <code>vue/runtime-core</code> 这个依赖包</p> <p><img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_05.8d8b3635.jpg" alt="alt"></p> <p>接着往下找，发现他来自一个叫 <code>render</code> 的方法</p> <p><img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_06.1608fe31.jpg" alt="alt"></p> <p>终于在 <code>render</code> 里面找到了这个<code>createRenderer()</code>, 它返回的是一个 <code>baseCreateRenderer()</code> 函数，这个函数又返回什么呢？</p> <p>由于这个方法太长了，有 2000 多行，返回的是一个对象:</p> <ul><li>render: 把接收到的 <code>vnode</code> 转换成 <code>dom</code>, 追加到宿主元素中</li> <li>hydtate: ssr 服务端将 <code>vnode</code> 生成 <code>html</code></li> <li>creatApp: 创建 <code>App</code> 实例</li></ul> <p><img src="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAn8AAAC1CAMAAAAZfGkyAAABgFBMVEUoKjZER1pQ+nskMDBicqQ+QEqIiIg57Xsy2XtHxUEoKkEtxXAtKjZQ7VdQ2Uw/qzYohlcoKkwyKjZiZGw/+nsoq2UoKms5hjZQ+mVPcqRiWmuur61PQTZZTVIoQYs7WqQxTZonKoZH+nBENTZH+ntEZ6QoKlI7KTXGxsZiZ31icosxKjb/ecapKjVXWmuIKjUoNX3cecXXqzNicpomLKjX+PJQ+nBH+mWJUb3/bZzcQzbrxIn4+PKn2fKGxOZZcpo9SlEoQ6pzISBZcqTyUWkoqtQohcH4+NSoxsZ/qcbBxr/+eao/+nCogTbr+NTHbcb42ah2d31PUVldJy9gl70ogarGqYXChTaYYzb468H/eb3Fxqq8l2nHNjZ/KjYoY5zr+PDGupz/X4XC6/LB6/L4+OaYusasX8ZmZ27X+Obyecb468AkicAoNpw6PEY/q0FPcppZZ5pQ7XDHNmk82VFHxUw/q0wyKkyIiMmsNpy8l4VZTX0yxXBENWs/+mU/xVfF9RWfAAAK1klEQVR42uydZ5NSMRSG43UtCIINC4KAFRV7772LXextrWOd0bH+et+0jYBczXgRyH2fcdjDSdZPz5wkd8lBSHLXjyvWiV+o7Vjl3qxYv9FE1YoJFi9D1J8ZgpC/ZJ3S73pOOFZMlG3oXEN6ysrqhnX0jyTDgutGP2fchKRsorJyDwGkM1FJCPpHRhX6RzygfyQo6B/xgP6RoKB/xAP6R4KC/hEP6B8JCvpHhsnmaYNhpmH58mlk/BGG8fHvqIb+BYEYFJsH9F/PnK5ZvlwQQv/ISEL/iA/0j4QE/SM+jJF/O3cd3E7/Aqd+ttFoq+hcA5FNNVpCcbPROH97SP4dusL6FzznWvDt/pSMLRPdvPdQjaofifi3d98WP//qz7bTv1Rw48l1HSx+YU18hKqHV+g3LP+w/NK/dAD/nHUuhde26CKXM8HGGP/q2z5dbt59IMCxZrO5X9rXBMjJwf1IX9jkpmF0EuOT9C+dYP3VxQ+7PqNhwyy/P5DrcHDh1fdCcu3qtTj/mid1vTsGvd693u/qn/PPTZN2Ttppzr+3lzbRvzSgN3lawfbU+tuSI6iHyk7HKwio9Yvz76RR7CUC8XKyj39mmh5bfBnvHN92vdnC5y9pQEom3LHDZtvy5b5eirsEVPrF+gfFAJxqSvr5Z6dZ/1j/UsgN6Of8M65Z9drmpVNAp1+8f7r+gb/0j/u/9HGz0erYCdq0Pv+q9bclegQUf+Wf3v91hfAMez36R+yzZtAyUUu5h8CswzdVLo54/3D+BfrdS3n+1akL3+kfGfG/v/H5M9Hw729kVOHnD4gPY+QfP39F6B8Zaegf8YH+kZDg/V/yR8bx/jn7H4SEGBQzelMLBSF9oH8kJOgf8YH+kZCgf8QH+kdCgv4RH+gfGSUWL7NfMVid0JH7JsK1axAg+V/8m7+oIEjqqJbdt64iKptohf3WVUhYoX9kkNTWb+x2beuRVc5E+kcGiPMP1vUqWUpk/5fNF6MoL8CcWVE0N4egOLeoI4QRUP7NjqKlC1SQyUZRRpDgkeuv2e2VtYYn1PdPWyWT8Q9aocRJ/fKQS2pXhHzzF2UEot1LhBzUA1kIiAij81YuESR0qlY2V+ygYNkMIpOEf5AK6kG2eXtglxKrKD2bnVe1zqy/8y8iP2Ui1+Q0UN2xyoZuswfvbPlLyD/opChGkt2/+AcvrX/zVqtRRHKApIAa9HP+rd9o/avoH0gk6Z+pf6DbP1f/AP1LCysmyh07QZuGleaBTML+Yf/X7R8GsRGMzKrb69/hgwcECRI8a5aUTVTWSk7g/GHLX6L+2fNvhHfWP5P6MMuefyPkO/w7/fjMJkHIkP7+Vn96Z4sgZEj+neL6S4bmX/3pwe2CEH7+hYwc9I/4QP9ISNA/4gP9IyFB/4gP9I+EBP0jPtA/EhL0j/hA/0hI0D/iA/0jIUH/yID6b4CazCXgn77i8ds8r/immtj+G7iFLkf/r3+8gJQ2+vbfqJZkjv4RDxLsv7H1REnUNqxLxL/PuGNU0BfR9WVLc9s3I4M9XxfZthv2+m8EkFPT2IgjZGL6byAHERPxD1Y59XAbTnpVMPUPhhV0vSsWjKGu/mEafokCBkvf/hsws7R2zY5VSa2/6LqhvDLWZSGY9c84Ccw05x+m6UESJDH9N3D9VzqZrH9ogIB/RjDknXFg/iLVnMP5Z1di+hco/ftvGPWqyfqHsJDFm17/1Fi+t/7xHBIwsf03cPbASlxJ0j9Q/Ijyp/tvYFvY4R/2eZiK+mcPKmZxthziVcyw+FP/DYQVkax/kMytrJnZ1j/XHevLxSX6V9z5FxPNTXR2QiAe/iXcaXfnriuCEA//En2wfJjrL/kX/7CquqOsf/V7fksQws+/kBGB/hEf6B8JCfpHfKB/JCToH/GB/pGQoH/EB/r3k73z+U0iiKM4wURZUUgT90KahqanxgNR68FAudVzb6a3JnppNKkmPfrjX/fBPPqEYUgXh3a7ee9AF2ZnvuPMx++XWXa+azVJ5s+qIvNnNUnmz6oi82c1SeZPmtb1MU217dgd8m+8O3pw/sr2vW0B2XuFW65T4s4AnPTP1mSo4CzrKYkZ7r/Nmbfk5H1tb5vcnH8Drzi6N/4SGy07f7BhJL90179U9p710xVedopbgDoBVMH08fJTqw78rbu996zWN06m8m/gLV8elL+9388Jxe756/S7vXTfihK9I0CkSDCdnrdqy1/rtM77FhL5N4Defqb9lyFU8cG+RZchi4k1uO1ovs2cD+fn9qPAIiY9jGm3151/hrLrZ4uqh28+jOJ7rJnro1eGdtkajeKIoZONdNi12fPXSxzNbJb8jEbDxlEgS4BQf5m/kyu6mMgoW+M/ps2+yagGZHd5S85q/ATldP4N7D/Hmyz8aRdlBzMxn0cl1ti74Qn0f9wJzKehI+iVAQVMKyowm0cJTGP+WJUoYCIwZWoNRzcvaFT+DwXc7QnUwxSX6CQqyWjYOA+3E5hjazzmDCeMhtZCG+h0qCKjGpAd5i05uapvAE7k3yCSx1n8H0eFs83B7JE3RRS9x2STEPik2fksU9aOVFAmrNxCHM5Va+oM3wcDCygKFqKNOY0yGl7wjuuP3kownV6MUkb1pHcYYBUZ1YDsJm9J7VcgyfwbUPb8axofJdbg4RJ/ZYjEnDwOPHlY8Fds/gqpI7XGEL/EHyNxXz6GxOBl1WipKBjzlzIq/tAGq8ioBmQXeUtqz18y/4ZWIpn8n470H1QuI/Z/EaYoW53GtP9TY2qNAXCd/4uJYXUajTCl4vgbG435k9GIv9x5S2oefzfk32AgzpL/AFPbXx5uRg99AWsX5EMjqgnG2IaZRSWOPqCNv/8pv4JQYGtCHdcTmexD5tW1hZ8L5TKKA54S8ycPExsVf6EQropRN+ZvOhlnzltS8/VHOv8Gj8BhBv6gkssyDTfXcYwevU5Bd6f1L7xe8CIkrr1SFvOnYNQXCqrBNenPHruk9S/6hrI+AdIyVUY7BSdfzOn6sy5xxEbFX/joGmZklAWLa4jgJG/ekkdw/eWx/P62ulbJr3QMT0vs/P9XrMPPF6N8eUvq7/7MXz7+9Pvb9jqbjO+ct6QZv7+Zv6r85f+ZX95v8nZj3pIG3n/wmPizLPNn1Unmz6oi82c1SebPqiLzZzVJa/h7equWZUXaOX9PKPNnrcr8WU2S+bOqyPxZTZL5s6rI/FlN0jr+Dr9Mzs2ftWX+DeiARwe8J7qq/8MNZ+bP2iL/Bv/+GHDvEXeCVI2/p2PzZ22bf2M4GA64CROfDcyflVD2/Bv8MxzQHSIEH782f1ZCufNvcO9v4O/7EVJwYE96df6mX0fmz9oq/waAW/D3C2geVPd/0LfLsfmzquffCFmvGH9RNIvO9n9WQvnzbyD71Vz7Yf2BaOz1hxVpt/k3hgMW+vqLlVb+/BviTwk4zJ9VV5m/v+3dMQrCQBAF0MYzWIhIGj2Fllp6C0/h5V0kYLcwMgvr+F677Sck7OQPg7l/Y1rmD/iC+StKkD8i5I9K5I8I+aMS/QcAAAAAUNj1/Jh0tSI/oNe/0Syb3t8fn823kN+/cTo+17Oe273qcjsi8vs3lv1W/ghI7d9o5I+A1P6N9eyft3sSkNi/Eclfcym73piAvP4Nzz+C8vs3vP8RkNq/4fuDqPz+jcP7cCd/TEz+GMj9GxMzfwAAAAAAAAAAwHgvYvSjPiNqKg0AAAAASUVORK5CYII=" alt="alt"></p> <p>我们接着看 <code>createAppAPI</code> 这个函数，它来自 <code>apiCreateApp()</code> 这个方法</p> <p><img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_08.3b50f1e2.jpg" alt="alt"></p> <p>看到这个图是不是很熟悉？这个函数返回的就是 <code>createApp</code> 实例上的 <code>api</code>, 我们先重点看一下 <code>mount</code> 函数，当我们展开这个函数我们发现 <code>createApp</code> 里面传递的配置对象最终都会被 vue 当作 <code>rootComponent</code> 来处理。</p> <p><img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_09.3ba956a7.jpg" alt="alt"></p> <p><code>mount</code> 函数在组建实例被创建后挂载到宿主元素上时，只会执行一次，即 <code>isMounted = fasle</code> 的时候，首次执行就会把传入的配置对象创建成 <code>vnode</code> 也就是所谓的虚拟 <code>dom</code> 随后通过 <code>render</code> 函数以及 <code>patch</code> 方法最终渲染成一颗真实的 <code>dom</code> 树。</p> <p>我们看到 <code>render</code> 是从 <code>createAppAPI</code> 中的一个参数，那就往上一层找找看，果然在 <code>baseCreateRenderer</code> 这个里面让我们找到了</p> <p><img src="data:image/jpeg;base64,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" alt="alt"></p> <p>进入 <code>patch</code> 方法，发现它会执行 <code>processComponent</code>() 这个方法，这个方法里面又执行了一个叫 <code>mountComponent()</code> 的函数</p> <div class="language- extra-class"><pre class="language-text"><code>const processComponent = (
  ...

  mountComponent(
    n2,
    container,
    anchor,
    parentComponent,
    parentSuspense,
    isSVG,
    optimized
  )
  ...
</code></pre></div><p>这个挂载组件 <code>mountComponent()</code> 里面有两个重要的东西，一个是 <code>createComponentInstance</code> 创建组件的实例，另一个就是 <code>setupComponent()</code> 初始化组件实例了。</p> <div class="language- extra-class"><pre class="language-text"><code>const mountComponent: MountComponentFn = (
    initialVNode,
    container,
    anchor,
    parentComponent,
    parentSuspense,
    isSVG,
    optimized
  ) =&gt; {
    // 2.x compat may pre-create the component instance before actually
    // mounting
    // 组件实例
    const compatMountInstance =
      __COMPAT__ &amp;&amp; initialVNode.isCompatRoot &amp;&amp; initialVNode.component
    const instance: ComponentInternalInstance =
      compatMountInstance ||
      (initialVNode.component = createComponentInstance(
        initialVNode,
        parentComponent,
        parentSuspense
      ))

  ...
  setupComponent(instance)
  if (__DEV__) {
    endMeasure(instance, `init`)
  }
  ...
}
</code></pre></div><p>setupComponent</p> <div class="language- extra-class"><pre class="language-text"><code>export function setupComponent(
  instance: ComponentInternalInstance,
  isSSR = false
) {
  isInSSRComponentSetup = isSSR

  const { props, children } = instance.vnode
  // 是否含有 setup data props 等等
  const isStateful = isStatefulComponent(instance)
  initProps(instance, props, isStateful, isSSR)
  initSlots(instance, children)

  const setupResult = isStateful
    ? setupStatefulComponent(instance, isSSR)
    : undefined
  isInSSRComponentSetup = false
  return setupResult
}
</code></pre></div><p>setupStatefulComponent
<img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_12.a82ec501.jpg" alt="alt">
这里会对 setupResult 做出判断不是一个 Promise 对象的话就判断它的类型，看他是一个 function 還是一个 Object
<img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_13.1f573eac.jpg" alt="alt"> <img src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/img/vue3_14.0afed103.jpg" alt="alt"></p> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结：</h2> <p>creatApp =&gt; ensureRenderer =&gt; baseCreateRenderer =&gt; createAppAPI =&gt; createApp =&gt; App</p> <p>app.mount =&gt; render =&gt; patch =&gt; processComponent =&gt; mountComponent</p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2022/05/09/ 17:53:58</span></div></footer> <!----> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/vue3/vue3yuan-ma-jie-xi-yi.html#_1、准备工作" class="sidebar-link reco-side-_1、准备工作" data-v-cb1513f6>1、准备工作</a></li><li class="level-2" data-v-cb1513f6><a href="/vue3/vue3yuan-ma-jie-xi-yi.html#_2、添加配置文件" class="sidebar-link reco-side-_2、添加配置文件" data-v-cb1513f6>2、添加配置文件</a></li><li class="level-2" data-v-cb1513f6><a href="/vue3/vue3yuan-ma-jie-xi-yi.html#_3、新建测试文件" class="sidebar-link reco-side-_3、新建测试文件" data-v-cb1513f6>3、新建测试文件</a></li><li class="level-2" data-v-cb1513f6><a href="/vue3/vue3yuan-ma-jie-xi-yi.html#_4、切入口-createapp-分析" class="sidebar-link reco-side-_4、切入口-createapp-分析" data-v-cb1513f6>4、切入口 createApp 分析</a></li><li class="level-2" data-v-cb1513f6><a href="/vue3/vue3yuan-ma-jie-xi-yi.html#小结" class="sidebar-link reco-side-小结" data-v-cb1513f6>小结：</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div></div><canvas id="vuepress-canvas-cursor"></canvas><div></div></div></div>
    <script src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/app.8ede2734.js" defer></script><script src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/3.c5a22957.js" defer></script><script src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/1.56ff20d7.js" defer></script><script src="https://cdn.jsdelivr.net/gh/AccompanyZiHao/study@gh-pages/assets/js/7.8bdbb744.js" defer></script>
  </body>
</html>
